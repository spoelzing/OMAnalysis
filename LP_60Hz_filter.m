function y = LP_60Hz_filter(x)
%LP_60HZ_FILTER Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.2 and the DSP System Toolbox 9.4.
% Generated on: 05-Apr-2020 17:35:44

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Lowpass filter designed using the FIRPM function.
    %
    % % All frequency values are in Hz.
    % Fs = 1000;  % Sampling Frequency
    %
    % Fpass = 60;              % Passband Frequency
    % Fstop = 80;              % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % dens  = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass, Fstop]/(Fs/2), [1 0], [Dpass, Dstop]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-8.4523307154003e-05 -2.87833900908453e-05 ...
        3.5623469822064e-05 0.000185702493658433 0.000453161259128589 ...
        0.000863902539372892 0.00143033299464669 0.0021434408946574 ...
        0.00296696040702032 0.00383500494248644 0.00465468266717335 ...
        0.00531387638973236 0.00569552123885003 0.00569491797655267 ...
        0.00523990243072727 0.00430926132295754 0.00294600275715097 ...
        0.00126269822502965 -0.000564519589436748 -0.00231331482735086 ...
        -0.00374348009810135 -0.00463253232490119 -0.00481406741252341 ...
        -0.00421191985327101 -0.0028642193182 -0.000931226383271543 ...
        0.00131645110205762 0.00352973480525074 0.00533045456167552 ...
        0.00637157742908479 0.00639941311851089 0.00530711106821727 ...
        0.00316918276129078 0.000248756789129768 -0.00302677564949223 ...
        -0.00612121131128773 -0.00847009441193475 -0.00957518835871456 ...
        -0.0090984044477474 -0.00693874776695327 -0.00327744264527903 ...
        0.0014200711470602 0.00645028021930868 0.0109634040023262 ...
        0.0140904773883266 0.0150885182789301 0.0134819380735336 ...
        0.00917688495919388 0.00252760076809871 -0.00566044705808133 ...
        -0.0141969863755667 -0.0216389361726592 -0.0264734902305566 ...
        -0.0273288279911227 -0.0231832378036451 -0.0135417304825084 ...
        0.00144768940086704 0.0209585451081247 0.0435406903314606 ...
        0.0672621983918368 0.0899223099230465 0.109308656308739 ...
        0.123464842275953 0.130932151626136 0.130932151626136 0.123464842275953 ...
        0.109308656308739 0.0899223099230465 0.0672621983918368 ...
        0.0435406903314606 0.0209585451081247 0.00144768940086704 ...
        -0.0135417304825084 -0.0231832378036451 -0.0273288279911227 ...
        -0.0264734902305566 -0.0216389361726592 -0.0141969863755667 ...
        -0.00566044705808133 0.00252760076809871 0.00917688495919388 ...
        0.0134819380735336 0.0150885182789301 0.0140904773883266 ...
        0.0109634040023262 0.00645028021930868 0.0014200711470602 ...
        -0.00327744264527903 -0.00693874776695327 -0.0090984044477474 ...
        -0.00957518835871456 -0.00847009441193475 -0.00612121131128773 ...
        -0.00302677564949223 0.000248756789129768 0.00316918276129078 ...
        0.00530711106821727 0.00639941311851089 0.00637157742908479 ...
        0.00533045456167552 0.00352973480525074 0.00131645110205762 ...
        -0.000931226383271543 -0.0028642193182 -0.00421191985327101 ...
        -0.00481406741252341 -0.00463253232490119 -0.00374348009810135 ...
        -0.00231331482735086 -0.000564519589436748 0.00126269822502965 ...
        0.00294600275715097 0.00430926132295754 0.00523990243072727 ...
        0.00569491797655267 0.00569552123885003 0.00531387638973236 ...
        0.00465468266717335 0.00383500494248644 0.00296696040702032 ...
        0.0021434408946574 0.00143033299464669 0.000863902539372892 ...
        0.000453161259128589 0.000185702493658433 3.5623469822064e-05 ...
        -2.87833900908453e-05 -8.4523307154003e-05]);
end

y = step(Hd,double(x));


% [EOF]
